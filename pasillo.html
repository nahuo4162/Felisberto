<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pasillo</title>
  <style>
    body {
      margin: 0;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .contenedor {
      position: relative;
      width: 90vw;
      aspect-ratio: 16 / 9;
      max-width: 100%;
      height: auto;
    }

    .fondo {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .zona-interactiva {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .zona-interactiva path {
      fill: transparent;
      stroke: transparent;
      pointer-events: visiblePainted;
      cursor: pointer;
      transition: fill 0.2s ease;
    }

    .zona-interactiva path:hover {
      fill: rgba(255, 255, 255, 0.177);
      stroke: #ffaa0000;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 998;
      display: none;
    }

    .imagen-flotante {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 80vw;
      max-height: 80vh;
      z-index: 999;
      display: none;
      cursor: pointer;
    }

    .imagen-flotante img {
      width: 100%;
      height: auto;
      border: 4px solid white;
      box-shadow: 0 0 15px rgba(0,0,0,0.7);
      border-radius: 8px;
    }

    .video-flotante {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80vw;
      max-height: 80vh;
      z-index: 999;
      display: none;
      cursor: pointer;
    }

    .video-flotante video {
      width: 100%;
      height: auto;
      border: 4px solid white;
      box-shadow: 0 0 15px rgba(0,0,0,0.7);
      border-radius: 8px;
      background-color: #000;
    }
  </style>
</head>
<body>

<div class="contenedor">
  <img class="fondo" src="Resources/Scenarios/pasillo.png" alt="Fondo">
  
  <!-- volveratraspasillo -->
  <svg class="zona-interactiva" viewBox="0 0 1920 1080">
    <g transform="translate(0,1080) scale(0.1,-0.1)" onclick="window.location.href = 'escaleras.html'">
      <path d="M9257 8383 c-10 -19 -35 -42 -58 -54 -37 -18 -46 -19 -91 -9 -41 10
-52 18 -66 46 -24 52 -62 44 -210 -44 -80 -48 -112 -75 -240 -213 l-148 -157
-92 -232 c-75 -188 -101 -267 -138 -423 -74 -315 -75 -341 -77 -2362 l-2
-1720 23 -165 c12 -91 28 -203 35 -250 l12 -85 1392 -3 1393 -2 4 22 c3 13 21
142 41 288 l36 265 -6 1785 -6 1785 -46 290 -46 290 -124 285 -125 285 -184
160 c-102 88 -200 173 -219 188 l-34 28 -68 -30 c-96 -42 -159 -49 -210 -22
-22 11 -44 28 -48 38 -6 15 -9 14 -22 -12 -32 -63 -80 -79 -150 -50 -20 8 -37
14 -38 13 -1 -2 -8 -21 -16 -43 -21 -58 -54 -71 -139 -56 -65 12 -68 14 -89
55 -11 24 -21 48 -21 54 0 7 -13 4 -32 -8 -40 -22 -63 -26 -105 -16 -40 9 -55
27 -63 74 l-6 37 -17 -32z"/>
    </g>
  </svg>

  <!-- cuadro -->
  <svg class="zona-interactiva" viewBox="0 0 1920 1080">
    <g transform="translate(0,1080) scale(0.1,-0.1)" onclick="toggleVideoCuadro()">
      <path d="M4427 9361 l-117 -36 0 -2654 c0 -1460 2 -2657 5 -2659 3 -3 68 -16 146 -29 l140 -24 1187 410 c653 225 1195 413 1205 416 16 7 17 83 17 1410 l0 1402 -1221 898 c-672 493 -1226 898 -1233 900 -6 1 -64 -14 -129 -34z"/>
    </g>
  </svg>

  <!-- Nota -->
  <svg class="zona-interactiva" viewBox="0 0 1920 1080">
    <g transform="translate(0,1080) scale(0.1,-0.1)" onclick="mostrarImagen('Resources/Biografia/03.png')">
      <path d="M7255 3989 c-77 -50 -144 -95 -150 -101 -10 -9 2 -21 82 -84 l31 -25 42 26 c22 14 57 40 78 59 20 18 78 61 127 96 50 35 92 65 94 67 10 7 -12 16 -71 28 -35 8 -70 16 -78 19 -9 4 -71 -30 -155 -85z"/>
    </g>
  </svg>

  <!-- Biografia -->
  <svg class="zona-interactiva" viewBox="0 0 1920 1080">
    <g transform="translate(0,1080) scale(0.1,-0.1)" onclick="mostrarImagen('Resources/Notas/03.png')">
      <path d="M7611 1577 l-113 -31 -99 -205 c-55 -113 -98 -208 -97 -212 3 -6 583 142 593 152 3 3 -10 41 -29 85 -18 43 -49 116 -67 161 -27 66 -38 82 -54 82 -11 -1 -71 -15 -134 -32z"/>
    </g>
  </svg>
</div>

<!-- Overlay e imagen flotante -->
<div id="notaOverlay" class="overlay" onclick="cerrarImagen()"></div>
<div id="imagenNota" class="imagen-flotante" onclick="cerrarImagen()">
  <img id="imgNota" src="" alt="Imagen ampliada">
</div>

<!-- Overlay y video para el cuadro -->
<div id="cuadroOverlay" class="overlay" onclick="toggleVideoCuadro()"></div>
<div id="videoCuadro" class="video-flotante">
  <video id="cuadroVideo" width="80%" height="auto" controls style="display: none;">
    <source src="Videos\Pasillo.mp4" type="video/mp4">
    Tu navegador no soporta el elemento de video.
  </video>
</div>

<!-- Script -->
<script>
  const overlay = document.getElementById('notaOverlay');
  const imagen = document.getElementById('imagenNota');
  const imgTag = document.getElementById('imgNota');
  const cuadroVideo = document.getElementById('cuadroVideo');
  const cuadroVideoContainer = document.getElementById('videoCuadro');
  const cuadroOverlay = document.getElementById('cuadroOverlay');

  const abrirSonido = new Audio("Resources/sonidos/Notas.mp3");
  const cerrarSonido = new Audio("Resources/sonidos/Notas.mp3");
  const cuadroSonido = new Audio("Resources/sonidos/cuadro.mp3");

  abrirSonido.preload = "auto";
  cerrarSonido.preload = "auto";
  cuadroSonido.preload = "auto";

  let cuadroVideoVisible = false;

  function mostrarImagen(ruta) {
    imgTag.src = ruta;
    imagen.style.display = 'block';
    overlay.style.display = 'block';

    try {
      abrirSonido.currentTime = 0;
      abrirSonido.play();
    } catch (e) {
      console.warn("Error al reproducir sonido:", e);
    }
  }

  function cerrarImagen() {
    imagen.style.display = 'none';
    overlay.style.display = 'none';

    try {
      cerrarSonido.currentTime = 0;
      cerrarSonido.play();
    } catch (e) {
      console.warn("Error al reproducir sonido:", e);
    }
  }

  function toggleVideoCuadro() {
    cuadroVideoVisible = !cuadroVideoVisible;

    const displayState = cuadroVideoVisible ? 'block' : 'none';
    cuadroVideoContainer.style.display = displayState;
    cuadroOverlay.style.display = displayState;

    if (cuadroVideoVisible) {
      cuadroVideo.style.display = 'block';
      cuadroVideo.play();
      try {
        cuadroSonido.currentTime = 0;
        cuadroSonido.play();
      } catch (e) {
        console.warn("Error al reproducir sonido del cuadro:", e);
      }
    } else {
      cuadroVideo.pause();
      cuadroVideo.currentTime = 0;
      cuadroVideo.style.display = 'none';
    }
  }
</script>

</body>
</html>